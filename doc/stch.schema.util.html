<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>stch.schema.util documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Schema 0.3.3 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="stch.schema.html"><span>stch.schema</span></a></li><li class="current"><a href="stch.schema.util.html"><span>stch.schema.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="stch.schema.util.html#var--%3EErrorContainer"><span>-&gt;ErrorContainer</span></a></li><li><a href="stch.schema.util.html#var--%3ENamedError"><span>-&gt;NamedError</span></a></li><li><a href="stch.schema.util.html#var--%3ESimpleVCell"><span>-&gt;SimpleVCell</span></a></li><li><a href="stch.schema.util.html#var--%3EValidationError"><span>-&gt;ValidationError</span></a></li><li><a href="stch.schema.util.html#var-assoc-when"><span>assoc-when</span></a></li><li><a href="stch.schema.util.html#var-class-schema"><span>class-schema</span></a></li><li><a href="stch.schema.util.html#var-declare-class-schema%21"><span>declare-class-schema!</span></a></li><li><a href="stch.schema.util.html#var-error"><span>error</span></a></li><li><a href="stch.schema.util.html#var-error-val"><span>error-val</span></a></li><li><a href="stch.schema.util.html#var-error%3F"><span>error?</span></a></li><li><a href="stch.schema.util.html#var-map-%3EErrorContainer"><span>map-&gt;ErrorContainer</span></a></li><li><a href="stch.schema.util.html#var-named-error-explain"><span>named-error-explain</span></a></li><li><a href="stch.schema.util.html#var-result-builder"><span>result-builder</span></a></li><li><a href="stch.schema.util.html#var-type-of"><span>type-of</span></a></li><li><a href="stch.schema.util.html#var-use-fn-validation"><span>use-fn-validation</span></a></li><li><a href="stch.schema.util.html#var-validation-error-explain"><span>validation-error-explain</span></a></li><li><a href="stch.schema.util.html#var-value-name"><span>value-name</span></a></li><li><a href="stch.schema.util.html#var-wrap-error-name"><span>wrap-error-name</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>stch.schema.util documentation</h2><pre class="doc">Private utilities used in schema implementation.
</pre><div class="public" id="var--%3EErrorContainer"><h3>-&gt;ErrorContainer</h3><div class="usage"><code>(-&gt;ErrorContainer error)</code></div><pre class="doc">Positional factory function for class stch.schema.util.ErrorContainer.
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L72">Source</a></div></div><div class="public" id="var--%3ENamedError"><h3>-&gt;NamedError</h3><div class="usage"><code>(-&gt;NamedError name error)</code></div><pre class="doc">For cljs sake (easier than normalizing imports in macros.clj).
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L64">Source</a></div></div><div class="public" id="var--%3ESimpleVCell"><h3>-&gt;SimpleVCell</h3><div class="usage"><code>(-&gt;SimpleVCell q)</code></div><pre class="doc">Positional factory function for class stch.schema.util.SimpleVCell.
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L133">Source</a></div></div><div class="public" id="var--%3EValidationError"><h3>-&gt;ValidationError</h3><div class="usage"><code>(-&gt;ValidationError schema value expectation-delay fail-explanation)</code></div><pre class="doc">For cljs sake (easier than normalizing imports in macros.clj).
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L47">Source</a></div></div><div class="public" id="var-assoc-when"><h3>assoc-when</h3><div class="usage"><code>(assoc-when m &amp; kvs)</code></div><pre class="doc">Like assoc but only assocs when value is truthy.
Copied from plumbing.core so that schema need not
depend on plumbing.</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L7">Source</a></div></div><div class="public" id="var-class-schema"><h3>class-schema</h3><div class="usage"><code>(class-schema klass)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L121">Source</a></div></div><div class="public" id="var-declare-class-schema%21"><h3>declare-class-schema!</h3><div class="usage"><code>(declare-class-schema! klass schema)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L111">Source</a></div></div><div class="public" id="var-error"><h3>error</h3><div class="usage"><code>(error x)</code></div><pre class="doc">Distinguish a value (must be non-nil) as an error.
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L74">Source</a></div></div><div class="public" id="var-error-val"><h3>error-val</h3><div class="usage"><code>(error-val x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L81">Source</a></div></div><div class="public" id="var-error%3F"><h3>error?</h3><div class="usage"><code>(error? x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L78">Source</a></div></div><div class="public" id="var-map-%3EErrorContainer"><h3>map-&gt;ErrorContainer</h3><div class="usage"><code>(map-&gt;ErrorContainer m__5818__auto__)</code></div><pre class="doc">Factory function for class stch.schema.util.ErrorContainer, taking a map of keywords to field values.
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L72">Source</a></div></div><div class="public" id="var-named-error-explain"><h3>named-error-explain</h3><div class="usage"><code>(named-error-explain err)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L57">Source</a></div></div><div class="public" id="var-result-builder"><h3>result-builder</h3><div class="usage"><code>(result-builder lift-to-error)</code></div><pre class="doc">Build up a result by conjing values, producing an error
if at least one sub-value returns an error.</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L93">Source</a></div></div><div class="public" id="var-type-of"><h3>type-of</h3><div class="usage"><code>(type-of x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L18">Source</a></div></div><div class="public" id="var-use-fn-validation"><h3>use-fn-validation</h3><div class="usage"></div><pre class="doc">Turn on run-time function validation for functions compiled when
*compile-function-validation* was true -- has no effect for
functions compiled when it is false.</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L138">Source</a></div></div><div class="public" id="var-validation-error-explain"><h3>validation-error-explain</h3><div class="usage"><code>(validation-error-explain err)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L40">Source</a></div></div><div class="public" id="var-value-name"><h3>value-name</h3><div class="usage"><code>(value-name value)</code></div><pre class="doc">Provide a descriptive short name for a value.
</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L20">Source</a></div></div><div class="public" id="var-wrap-error-name"><h3>wrap-error-name</h3><div class="usage"><code>(wrap-error-name name maybe-error)</code></div><pre class="doc">If maybe-error is an error, wrap the inner value in a NamedError;
otherwise, return as-is.</pre><div class="src-link"><a href="https://github.com/stch-library/schema/blob/master/src/stch/schema/util.clj#L85">Source</a></div></div></div></body></html>